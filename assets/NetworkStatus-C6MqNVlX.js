import{a as N,r as s,i as v,D as M,c as y,E as $,F as L,G as g,j as e,p as E}from"./index-YxVF9WTb.js";import{c as l}from"./createLucideIcon-DWULqLwT.js";import{X as O}from"./x-CwNiEwQ8.js";import{C as z}from"./check-BNjbgBFO.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],I=l("cloud-off",_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],P=l("cloud",A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h=l("refresh-cw",R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],H=l("wifi-off",W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],D=l("wifi",q),F={en:{offline:"Offline",online:"Online",syncing:"Syncing...",pending:"pending",syncError:"Sync Error",synced:"Synced",status:"Status:",pendingLabel:"Pending:",items:"items",retrySync:"Retry Sync",autoSyncOnline:"Will auto-sync when online"},bn:{offline:"à¦…à¦«à¦²à¦¾à¦‡à¦¨",online:"à¦…à¦¨à¦²à¦¾à¦‡à¦¨",syncing:"à¦¸à¦¿à¦™à§à¦• à¦¹à¦šà§à¦›à§‡...",pending:"à¦ªà§‡à¦¨à§à¦¡à¦¿à¦‚",syncError:"à¦¸à¦¿à¦™à§à¦• à¦à¦°à¦°",synced:"à¦¸à¦¿à¦™à§à¦•à¦¡",status:"à¦¸à§à¦Ÿà§à¦¯à¦¾à¦Ÿà¦¾à¦¸:",pendingLabel:"à¦ªà§‡à¦¨à§à¦¡à¦¿à¦‚:",items:"à¦†à¦‡à¦Ÿà§‡à¦®",retrySync:"à¦ªà§à¦¨à¦°à¦¾à¦¯à¦¼ à¦¸à¦¿à¦™à§à¦• à¦•à¦°à§à¦¨",autoSyncOnline:"à¦…à¦¨à¦²à¦¾à¦‡à¦¨à§‡ à¦†à¦¸à¦²à§‡ à¦…à¦Ÿà§‹ à¦¸à¦¿à¦™à§à¦• à¦¹à¦¬à§‡"}},B=()=>{const{currentUser:r}=N(),[a,p]=s.useState(v()),[f,x]=s.useState(M()),[c,m]=s.useState(0),[d,b]=s.useState(!1),[k,u]=s.useState("en");s.useEffect(()=>{if(r){const i=y(r.uid);i!=null&&i.language&&u(i.language)}},[r]),s.useEffect(()=>{const i=$(o=>{p(o)}),C=L(o=>{x(o),m(g().length)}),w=setInterval(()=>{if(m(g().length),r){const o=y(r.uid);o!=null&&o.language&&u(o.language)}},5e3);return()=>{i(),C(),clearInterval(w)}},[r]);const j=()=>{a&&E()},t=F[k],n=(()=>{if(!a)return{icon:H,color:"text-rose-400",bgColor:"bg-rose-500/20",borderColor:"border-rose-500/30",label:t.offline};switch(f){case"syncing":return{icon:h,color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500/30",label:t.syncing,animate:!0};case"pending":return{icon:P,color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500/30",label:`${c} ${t.pending}`};case"error":return{icon:I,color:"text-rose-400",bgColor:"bg-rose-500/20",borderColor:"border-rose-500/30",label:t.syncError};case"synced":default:return{icon:z,color:"text-emerald-400",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/30",label:t.synced}}})(),S=n.icon;return a&&f==="synced"&&c===0&&!d?e.jsx("button",{onClick:()=>b(!0),className:"fixed bottom-20 md:bottom-4 right-4 z-50 p-2 rounded-full bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/30 transition-all shadow-lg",title:"Sync Status",children:e.jsx(D,{size:16})}):e.jsxs("div",{className:"fixed bottom-20 md:bottom-4 right-4 z-50",children:[e.jsxs("button",{onClick:()=>b(!d),className:`flex items-center gap-2 px-3 py-2 rounded-full ${n.bgColor} border ${n.borderColor} ${n.color} hover:opacity-90 transition-all shadow-lg backdrop-blur-sm`,children:[e.jsx(S,{size:16,className:n.animate?"animate-spin":""}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:n.label})]}),d&&e.jsxs("div",{className:`absolute bottom-full right-0 mb-2 p-4 rounded-xl ${n.bgColor} border ${n.borderColor} backdrop-blur-md shadow-xl min-w-[200px]`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:`text-sm font-semibold ${n.color}`,children:a?`ðŸŸ¢ ${t.online}`:`ðŸ”´ ${t.offline}`}),e.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-white",children:e.jsx(O,{size:14})})]}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:t.status}),e.jsx("span",{className:n.color,children:n.label})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:t.pendingLabel}),e.jsxs("span",{children:[c," ",t.items]})]})]}),c>0&&a&&e.jsxs("button",{onClick:j,className:"mt-3 w-full py-2 rounded-lg bg-indigo-500/30 border border-indigo-500/50 text-indigo-300 hover:bg-indigo-500/40 text-xs font-medium flex items-center justify-center gap-2",children:[e.jsx(h,{size:12}),t.retrySync]}),!a&&e.jsx("p",{className:"mt-3 text-xs text-slate-400 text-center",children:t.autoSyncOnline})]})]})};export{B as default};
