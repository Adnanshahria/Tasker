import{j as e,a as _,u as F,r as x}from"./index-Cne2Ep7V.js";import{g as P,b as E,c as $}from"./dataService-DjKBfawx.js";import{F as O,T as B,C as G}from"./ConfirmModal-ITi-Bl4t.js";import{c as S}from"./createLucideIcon-7o-9_THE.js";import{A as U,B as q}from"./book-open-XS4pOBO_.js";import{C as z}from"./check-BfSB-3UY.js";import{X as L}from"./x-DWWUPWxA.js";import{P as K}from"./pen-j5rPDugZ.js";import{L as Y}from"./loader-circle-C7_o2oMj.js";import{L as H}from"./log-out-B2MCWIel.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],V=S("flag",Q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],J=S("globe",X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Z=S("rotate-ccw",W),I=({lang:s,label:m,englishLabel:c,banglaLabel:r,onLanguageChange:a})=>e.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{size:20,className:"text-cyan-400"}),e.jsx("h2",{className:"font-bold text-white",children:m})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>a("en"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="en"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:["ðŸ‡ºðŸ‡¸ ",c]}),e.jsxs("button",{onClick:()=>a("bn"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="bn"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:["ðŸ‡§ðŸ‡© ",r]})]})]})}),ee={subjects:q,types:O,statuses:U,priorities:V},te=({category:s,items:m,config:c,t:r,editingItem:a,newItem:u,onStartEdit:j,onSaveEdit:v,onCancelEdit:N,onEditChange:l,onStartNew:g,onSaveNew:i,onCancelNew:p,onNewChange:w,onDelete:b})=>{const y=ee[s];return e.jsxs("div",{className:`bg-gradient-to-r ${c.bg} border ${c.border} rounded-xl overflow-hidden`,children:[e.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx(y,{size:18,className:`${c.color} md:hidden`}),e.jsx(y,{size:20,className:`${c.color} hidden md:block`}),e.jsx("h2",{className:"font-bold text-white text-sm md:text-base",children:c.label}),e.jsxs("span",{className:"text-[10px] md:text-xs text-slate-400 bg-slate-800/50 px-1.5 md:px-2 py-0.5 rounded-full",children:[m.length," ",r.items]})]}),e.jsx("button",{onClick:()=>g(s),className:"flex items-center gap-1 px-2.5 md:px-3 py-1.5 bg-slate-800/80 hover:bg-slate-700 text-white rounded-lg text-xs md:text-sm font-medium transition-all border border-slate-700 hover:border-slate-600",children:r.add})]}),e.jsxs("div",{className:"p-3 md:p-4",children:[m.length===0&&e.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:r.noItems}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:[m.map((o,h)=>e.jsx("div",{className:"group flex items-center gap-1 bg-slate-800/80 border border-slate-700 rounded-lg px-2 md:px-3 py-1.5 md:py-2 hover:border-slate-500 transition-all",children:(a==null?void 0:a.category)===s&&(a==null?void 0:a.index)===h?e.jsxs(e.Fragment,{children:[e.jsx("input",{autoFocus:!0,value:a.value,onChange:f=>l(f.target.value),onKeyDown:f=>f.key==="Enter"&&v(),className:"bg-transparent text-white text-xs md:text-sm outline-none border-b border-indigo-500 w-20 md:w-24"}),e.jsx("button",{onClick:v,className:"p-1.5 text-green-400 hover:bg-green-500/10 rounded",children:e.jsx(z,{size:14})}),e.jsx("button",{onClick:N,className:"p-1.5 text-slate-400 hover:bg-slate-700 rounded",children:e.jsx(L,{size:14})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-200 text-xs md:text-sm",children:o}),e.jsxs("div",{className:"flex items-center gap-0.5 md:opacity-0 md:group-hover:opacity-100 ml-1 transition-opacity",children:[e.jsx("button",{onClick:()=>j(s,h,o),className:"p-1.5 text-slate-400 hover:text-indigo-400 rounded",children:e.jsx(K,{size:12})}),e.jsx("button",{onClick:()=>b(s,h),className:"p-1.5 text-slate-400 hover:text-red-400 rounded",children:e.jsx(B,{size:12})})]})]})},h)),(u==null?void 0:u.category)===s&&e.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 border-2 border-indigo-500/50 rounded-lg px-3 py-2",children:[e.jsx("input",{autoFocus:!0,value:u.value,onChange:o=>w(o.target.value),onKeyDown:o=>o.key==="Enter"&&i(s),placeholder:r.enterName,className:"bg-transparent text-white text-sm outline-none w-24 placeholder:text-slate-500"}),e.jsx("button",{onClick:()=>i(s),className:"p-1 text-green-400 hover:bg-green-500/10 rounded",children:e.jsx(z,{size:14})}),e.jsx("button",{onClick:p,className:"p-1 text-slate-400 hover:bg-slate-700 rounded",children:e.jsx(L,{size:14})})]})]})]})]})},se={en:{settingsTitle:"Settings",customizeDesc:"Customize your subjects, types, and statuses",resetToDefault:"Reset to Defaults",add:"+ Add",noItems:'No items. Click "Add" to create one.',items:"items",enterName:"Enter name...",tip:"Tip:",tipText:"Changes are saved automatically. Your custom options will appear in all dropdown menus.",resetConfirmTitle:"Reset to Default Settings",resetConfirmMsg:"Reset all settings to defaults?",reset:"Reset",cancel:"Cancel",language:"Language",english:"English",bangla:"à¦¬à¦¾à¦‚à¦²à¦¾",subjects:"Subjects",types:"Assignment Types",statuses:"Statuses",priorities:"Priorities"},bn:{settingsTitle:"à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸",customizeDesc:"à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¿à¦·à¦¯à¦¼, à¦§à¦°à¦¨ à¦à¦¬à¦‚ à¦¸à§à¦Ÿà§à¦¯à¦¾à¦Ÿà¦¾à¦¸ à¦•à¦¾à¦¸à§à¦Ÿà¦®à¦¾à¦‡à¦œ à¦•à¦°à§à¦¨",resetToDefault:"à¦¡à¦¿à¦«à¦²à§à¦Ÿà§‡ à¦«à§‡à¦°à¦¤",add:"+ à¦¯à§‹à¦— à¦•à¦°à§à¦¨",noItems:"à¦•à§‹à¦¨à§‹ à¦†à¦‡à¦Ÿà§‡à¦® à¦¨à§‡à¦‡",items:"à¦Ÿà¦¿",enterName:"à¦¨à¦¾à¦® à¦²à¦¿à¦–à§à¦¨...",tip:"à¦Ÿà¦¿à¦ªà¦¸:",tipText:"à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨à¦—à§à¦²à§‹ à¦¸à§à¦¬à¦¯à¦¼à¦‚à¦•à§à¦°à¦¿à¦¯à¦¼à¦­à¦¾à¦¬à§‡ à¦¸à¦‚à¦°à¦•à§à¦·à¦¿à¦¤ à¦¹à¦¯à¦¼à¥¤ à¦†à¦ªà¦¨à¦¾à¦° à¦•à¦¾à¦¸à§à¦Ÿà¦® à¦…à¦ªà¦¶à¦¨à¦—à§à¦²à§‹ à¦¸à¦¬ à¦¡à§à¦°à¦ªà¦¡à¦¾à¦‰à¦¨ à¦®à§‡à¦¨à§à¦¤à§‡ à¦¦à§‡à¦–à¦¾ à¦¯à¦¾à¦¬à§‡à¥¤",resetConfirmTitle:"à¦¡à¦¿à¦«à¦²à§à¦Ÿà§‡ à¦°à¦¿à¦¸à§‡à¦Ÿ à¦•à¦°à§à¦¨",resetConfirmMsg:"à¦¸à¦¬ à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸ à¦¡à¦¿à¦«à¦²à§à¦Ÿà§‡ à¦°à¦¿à¦¸à§‡à¦Ÿ à¦•à¦°à¦¬à§‡à¦¨?",reset:"à¦°à¦¿à¦¸à§‡à¦Ÿ",cancel:"à¦¬à¦¾à¦¤à¦¿à¦²",language:"à¦­à¦¾à¦·à¦¾",english:"English",bangla:"à¦¬à¦¾à¦‚à¦²à¦¾",subjects:"à¦¬à¦¿à¦·à¦¯à¦¼à¦¸à¦®à§‚à¦¹",types:"à¦…à§à¦¯à¦¾à¦¸à¦¾à¦‡à¦¨à¦®à§‡à¦¨à§à¦Ÿà§‡à¦° à¦§à¦°à¦¨",statuses:"à¦¸à§à¦Ÿà§à¦¯à¦¾à¦Ÿà¦¾à¦¸",priorities:"à¦—à§à¦°à§à¦¤à§à¦¬"}},re=s=>({subjects:{label:s==="en"?"Subjects":"à¦¬à¦¿à¦·à¦¯à¦¼à¦¸à¦®à§‚à¦¹",color:"text-indigo-400",bg:"from-indigo-500/20 to-indigo-600/10",border:"border-indigo-500/20"},types:{label:s==="en"?"Assignment Types":"à¦…à§à¦¯à¦¾à¦¸à¦¾à¦‡à¦¨à¦®à§‡à¦¨à§à¦Ÿà§‡à¦° à¦§à¦°à¦¨",color:"text-emerald-400",bg:"from-emerald-500/20 to-emerald-600/10",border:"border-emerald-500/20"},statuses:{label:s==="en"?"Statuses":"à¦¸à§à¦Ÿà§à¦¯à¦¾à¦Ÿà¦¾à¦¸",color:"text-amber-400",bg:"from-amber-500/20 to-amber-600/10",border:"border-amber-500/20"},priorities:{label:s==="en"?"Priorities":"à¦—à§à¦°à§à¦¤à§à¦¬",color:"text-rose-400",bg:"from-rose-500/20 to-rose-600/10",border:"border-rose-500/20"}}),ae={subjects:["Physics","Chemistry","Math","Biology","ICT","English","Bangla"],types:["Project","Assignment","Quiz","Exam","Lab","Presentation"],statuses:["Not Started","In Progress","Completed"],priorities:["Low","Medium","High","Urgent"],language:"en"},pe=()=>{const{currentUser:s,logout:m}=_(),c=F(),[r,a]=x.useState(null),[u,j]=x.useState(!0),[v,N]=x.useState(!1),[l,g]=x.useState(null),[i,p]=x.useState(null),[w,b]=x.useState(!1),y=async()=>{if(s){j(!0);try{const t=await P(s.uid);a(t)}catch(t){console.error("Error loading settings:",t),a(E)}j(!1)}};x.useEffect(()=>{y()},[s]);const o=async t=>{if(s){N(!0);try{await $(s.uid,t),a(t)}catch(d){console.error("Error saving settings:",d)}N(!1)}},h=t=>r&&o({...r,language:t}),f=t=>{!(i!=null&&i.value.trim())||!r||r[t].includes(i.value.trim())||(o({...r,[t]:[...r[t],i.value.trim()]}),p(null))},A=(t,d)=>r&&o({...r,[t]:r[t].filter((k,T)=>T!==d)}),D=()=>{if(!(l!=null&&l.value.trim())||!r)return;const t={...r};t[l.category][l.index]=l.value.trim(),o(t),g(null)},M=()=>{!s||!r||(o(r.language==="en"?ae:E),b(!1))};if(u)return e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})});if(!r)return e.jsx("div",{className:"text-slate-500",children:"Error loading settings"});const C=r.language||"bn",n=se[C],R=re(C);return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:n.settingsTitle}),e.jsx("p",{className:"text-slate-400 text-xs md:text-sm",children:n.customizeDesc})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Y,{size:16,className:"animate-spin text-indigo-400"}),e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-800 border border-slate-700 rounded-xl text-slate-400 hover:text-white hover:border-indigo-500/50 text-sm transition-all",children:[e.jsx(Z,{size:14})," ",n.resetToDefault]})]})]}),e.jsx(I,{lang:C,label:n.language,englishLabel:n.english,banglaLabel:n.bangla,onLanguageChange:h}),["subjects","types","statuses","priorities"].map(t=>e.jsx(te,{category:t,items:r[t],config:R[t],t:n,editingItem:l,newItem:i,onStartEdit:(d,k,T)=>g({category:d,index:k,value:T}),onSaveEdit:D,onCancelEdit:()=>g(null),onEditChange:d=>l&&g({...l,value:d}),onStartNew:d=>p({category:d,value:""}),onSaveNew:f,onCancelNew:()=>p(null),onNewChange:d=>i&&p({...i,value:d}),onDelete:A},t)),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border border-indigo-500/20 rounded-xl p-4 text-sm text-slate-300",children:[e.jsxs("strong",{className:"text-indigo-400",children:["ðŸ’¡ ",n.tip]})," ",n.tipText]}),e.jsxs("button",{onClick:async()=>{try{await m(),c("/auth")}catch(t){console.error("Logout failed:",t)}},className:"w-full flex items-center justify-center gap-2 py-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-all",children:[e.jsx(H,{size:18}),e.jsx("span",{className:"font-medium",children:C==="en"?"Logout":"à¦²à¦—à¦†à¦‰à¦Ÿ"})]}),e.jsx(G,{isOpen:w,title:n.resetConfirmTitle,message:n.resetConfirmMsg,confirmText:n.reset,cancelText:n.cancel,confirmColor:"indigo",onConfirm:M,onCancel:()=>b(!1)})]})};export{re as CATEGORY_CONFIG,se as T,pe as default};
